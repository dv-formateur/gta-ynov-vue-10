webpackJsonp([1],{"1/oy":function(e,t){},"7cFT":function(e,t){},"9M+g":function(e,t){},"9gp2":function(e,t){},BUeH:function(e,t){},Egzj:function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),r={name:"navBar",data:function(){return{user:"",name:""}},methods:{disconnect:function(){localStorage.removeItem("jwt"),this.$router.push("/")}},mounted:function(){this.user=JSON.parse(localStorage.getItem("user")),this.name=this.user.name}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-navbar",{attrs:{toggleable:"md",type:"light",variant:"light"}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),e._v(" "),a("b-navbar-brand",{attrs:{href:"#"}},[e._v(e._s(e.name))]),e._v(" "),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",[a("b-nav-item",[a("router-link",{attrs:{to:"/user/profile"}},[e._v("Profile")])],1),e._v(" "),a("b-nav-item",[a("router-link",{attrs:{to:"/user/agenda"}},[e._v("Demande de jour")])],1),e._v(" "),a("b-nav-item",[a("router-link",{attrs:{to:"/user/planning"}},[e._v("Planning")])],1),e._v(" "),a("b-nav-item",[a("router-link",{attrs:{to:"/admin/contrat"}},[e._v("Contrat")])],1),e._v(" "),a("b-nav-item",[a("router-link",{attrs:{to:"/admin/validateEvent"}},[e._v("Valider évènement")])],1)],1),e._v(" "),a("b-navbar-nav",{staticClass:"ml-auto"},[a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:e.disconnect}},[e._v("Déconnecter")])])],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(r,s,!1,function(e){a("9gp2")},null,null).exports,o=a("QEVx"),l=a.n(o),u=a("S4WF"),d=a.n(u),c={components:{NavBar:i,Datetime:o.Datetime,VueTuicalendar:u.VueTuicalendar},name:"App"},v={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{style:{backgroundColor:"#42b983"},attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var m=a("VU/8")(c,v,!1,function(e){a("smXI")},null,null).exports,p=a("/ocq"),h=a("mvHQ"),f=a.n(h),_={data:function(){return{username:"",password:"",showDismissibleAlert:!1}},methods:{FormLogin:function(e){var t=this;e.preventDefault(),this.password.length>0&&this.$http.post("http://localhost:3000/login",{email:this.username,password:this.password}).then(function(e){var a=e.data.user.role;if(localStorage.setItem("user",f()(e.data.user)),localStorage.setItem("jwt",e.data.token),null!=localStorage.getItem("jwt"))if(t.$emit("loggedIn"),null!=t.$route.params.nextUrl)t.$router.push(t.$route.params.nextUrl);else switch(a){case"D":case"R":console.log("admin"),t.$router.push("admin");break;case"S":console.log("user"),t.$router.push("user")}}).catch(function(e){console.error(e.response)})}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-3 mx-auto",attrs:{id:"login"}},[a("div",{staticClass:"card card-signin my-5"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title text-center"},[e._v("Login")]),e._v(" "),a("form",{staticClass:"form-signin",on:{submit:function(t){return t.preventDefault(),e.FormLogin(t)}}},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{required:"",id:"inputEmail",type:"text",placeholder:"email"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{required:"",id:"inputPassword",type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("button",{staticClass:"btn btn-lg btn-primary btn-block text-uppercase",attrs:{type:"submit"}},[e._v("Login")])])])])])},staticRenderFns:[]};var b=a("VU/8")(_,g,!1,function(e){a("7cFT")},"data-v-31101b24",null).exports,w={props:["nextUrl"],data:function(){return{name:"",email:"",password:"",password_confirmation:"",rules:""}},methods:{handleSubmit:function(e){var t=this;if(e.preventDefault(),!(this.password===this.password_confirmation&&this.password.length>0))return this.password="",this.passwordConfirm="",alert("Passwords do not match");this.$http.post("http://localhost:3000/register",{name:this.name,email:this.email,password:this.password,role:this.rules}).then(function(e){localStorage.setItem("user",f()(e.data.user)),localStorage.setItem("jwt",e.data.token),null!=localStorage.getItem("jwt")&&(t.$emit("loggedIn"),null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):t.$router.push("/"))}).catch(function(e){console.error(e)})}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h4",[e._v("Register")]),e._v(" "),a("form",[a("label",{attrs:{for:"name"}},[e._v("Name")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{id:"name",type:"text",required:"",autofocus:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),a("label",{attrs:{for:"email"}},[e._v("E-Mail Address")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("label",{attrs:{for:"password"}},[e._v("Password")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",type:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("label",{attrs:{for:"password-confirm"}},[e._v("Confirm Password")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirmation,expression:"password_confirmation"}],attrs:{id:"password-confirm",type:"password",required:""},domProps:{value:e.password_confirmation},on:{input:function(t){t.target.composing||(e.password_confirmation=t.target.value)}}})]),e._v(" "),a("label",{attrs:{for:"password-confirm"}},[e._v("Roles")]),e._v(" "),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.roles,expression:"roles"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.roles=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"S"}},[e._v("Salarié")]),e._v(" "),a("option",{attrs:{value:"R"}},[e._v("Responsable")]),e._v(" "),a("option",{attrs:{value:"D"}},[e._v("DRH")])])]),e._v(" "),a("div",[a("button",{attrs:{type:"submit"},on:{click:e.handleSubmit}},[e._v("\n                Register\n            ")])])])])},staticRenderFns:[]},C=a("VU/8")(w,y,!1,null,null,null).exports,k={components:{NavBar:i},data:function(){return{msg:"Page salarié"}}},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("nav-bar"),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var E=a("VU/8")(k,x,!1,function(e){a("hs1y")},"data-v-f5905e1e",null).exports,P={data:function(){return{msg:"page directeur"}},components:{NavBar:i}},I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("nav-bar"),this._v(" "),t("router-view"),this._v(" "),t("h1",[this._v("Page admin")])],1)},staticRenderFns:[]};var S=a("VU/8")(P,I,!1,function(e){a("syJM")},"data-v-06ff9659",null).exports,$={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("404 Error")]),this._v(" "),t("p",[this._v("The resource could not be found.")]),this._v(" "),t("router-link",{attrs:{to:"/",exact:""}},[this._v("\n        Go to home page\n    ")])],1)},staticRenderFns:[]};a("VU/8")({name:"PageNotFound"},$,!1,function(e){a("vydX")},"data-v-441efff6",null).exports;var N={name:"Profile",mounted:function(){var e=this,t=JSON.parse(localStorage.getItem("user")).id;this.$http.post("http://localhost:3000/profile",{userId:t}).then(function(t){localStorage.setItem("profile",f()(t.data.userProfile)),console.log(t.data.userProfile),e.name=t.data.userProfile.name,e.surname=t.data.userProfile.surname,e.birth=t.data.userProfile.birth,e.phone=t.data.userProfile.tel,e.address=t.data.userProfile.address})},data:function(){return{userProfile:"",name:"",surname:"",birth:"",phone:"",address:""}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"tile"},[a("form",[a("h2",[e._v("Information personnel")]),e._v(" "),a("div",[a("label",{staticClass:"label"},[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name",id:"name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),a("div",[a("label",{staticClass:"label"},[e._v("Surname")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.surname,expression:"surname"}],attrs:{type:"text",name:"surname",id:"surname",required:""},domProps:{value:e.surname},on:{input:function(t){t.target.composing||(e.surname=t.target.value)}}})]),e._v(" "),a("div",[a("label",{staticClass:"label"},[e._v("Birth")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.birth,expression:"birth"}],attrs:{type:"text",name:"birth",id:"birth",required:""},domProps:{value:e.birth},on:{input:function(t){t.target.composing||(e.birth=t.target.value)}}})]),e._v(" "),a("div",[a("label",{staticClass:"label"},[e._v("Phone")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"integer",name:"phone",id:"phone",required:""},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),a("div",[a("label",{staticClass:"label"},[e._v("Address")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{type:"text",name:"address",id:"address",required:""},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})]),e._v(" "),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){}}},[e._v("Save")])])])]),e._v(" "),e._m(0)]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"tile"},[t("h2",[this._v("Contrat")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg"},[t("h1",[this._v(" Nombre de jour travailler ")])]),this._v(" "),t("div",{staticClass:"col-lg"},[t("h1",[this._v(" Nombre de jour restant")])]),this._v(" "),t("div",{staticClass:"col-lg"},[t("h1",[this._v(" Nombre de jour congée ")])])])}]};var D=a("VU/8")(N,V,!1,function(e){a("yfRP")},"data-v-606c0492",null).exports,R={name:"Agenda",data:function(){return{user:"",userId:"",dateBegin:"",dateEnd:"",category:"",reason:""}},methods:{handleSubmit:function(){this.user=JSON.parse(localStorage.getItem("user"));this.$http.post("http://localhost:3000/agenda_event",{userId:this.user.id,dateBegin:this.dateBegin,dateEnd:this.dateEnd,category:this.category,reason:this.reason})}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"tile"},[a("h2",[e._v(" Demande de jour")]),e._v(" "),a("label",[e._v(" Date begin")]),e._v(" "),a("datetime",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateBegin,callback:function(t){e.dateBegin=t},expression:"dateBegin"}}),e._v(" "),a("label",[e._v(" Date end")]),e._v(" "),a("datetime",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","min-datetime":e.dateBegin},model:{value:e.dateEnd,callback:function(t){e.dateEnd=t},expression:"dateEnd"}}),e._v(" "),a("label",[e._v(" Categories ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.category=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("select category")]),e._v(" "),a("option",[e._v("Congée")]),e._v(" "),a("option",[e._v("Reccuperation")]),e._v(" "),a("option",[e._v("Amenagement")])]),e._v(" "),a("br"),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reason,expression:"reason"}],attrs:{placeholder:"Motif"},domProps:{value:e.reason},on:{input:function(t){t.target.composing||(e.reason=t.target.value)}}}),e._v(" "),a("button",{attrs:{type:"submit"},on:{click:e.handleSubmit}},[e._v("\n                    Register\n                ")])],1)]),e._v(" "),e._m(0)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"tile"},[t("h2",[this._v(" Demande en cours de traitement")])])])}]};var O=a("VU/8")(R,B,!1,function(e){a("R8Ff")},"data-v-31d57cdd",null).exports,U=(a("bUhB"),a("Gu7T")),A=a.n(U),M=a("jBlO"),j=a.n(M),F=["afterRenderSchedule","beforeCreateSchedule","beforeDeleteSchedule","beforeUpdateSchedule","clickDayname","clickSchedule","clickTimezonesCollapseBtn"],L=["start","category"],T={name:"ToastUICalendar",props:{calendars:{type:Array,default:function(){return[]}},schedules:{type:Array,default:function(){return[]},validator:function(e){var t=!1;return e.forEach(function(e){t=L.some(function(t){return!e.hasOwnProperty(t)})}),!t}},view:{type:String,default:function(){return"week"}},taskView:{type:[Boolean,Array],default:function(){return!0}},scheduleView:{type:[Boolean,Array],default:function(){return!0}},theme:{type:Object,default:function(){return{}}},template:{type:Object,default:function(){return{}}},week:{type:Object,default:function(){return{}}},month:{type:Object,default:function(){return{}}},useCreationPopup:{type:Boolean,default:function(){return!0}},useDetailPopup:{type:Boolean,default:function(){return!0}},timezones:{type:Array,default:function(){return[]}},disableDblClick:{type:Boolean,default:function(){return!1}},isReadOnly:{type:Boolean,default:function(){return!1}}},watch:{calendars:function(e){this.calendarInstance.setCalendars(e)},schedules:function(){this.calendarInstance.clear(),this.reflectSchedules()},view:function(e){this.calendarInstance.changeView(e,!0)},taskView:function(e){this.calendarInstance.setOptions({taskView:e})},scheduleView:function(e){this.calendarInstance.setOptions({scheduleView:e})},theme:{handler:function(e){this.calendarInstance.setTheme(e)},deep:!0},week:{handler:function(e){var t="week"!==this.view&&"day"!==this.view;this.calendarInstance.setOptions({week:e},t)},deep:!0},month:{handler:function(e){var t="month"!==this.view;this.calendarInstance.setOptions({month:e},t)},deep:!0},timezones:function(e){this.calendarInstance.setOptions({timezones:e})},disableDblClick:function(e){this.calendarInstance.setOptions({disableDblClick:e})},isReadOnly:function(e){this.calendarInstance.setOptions({isReadOnly:e})}},data:function(){return{calendarInstance:null}},mounted:function(){this.calendarInstance=new j.a(this.$refs.tuiCalendar,{defaultView:this.view,taskView:this.taskView,scheduleView:this.scheduleView,theme:this.theme,template:this.template,week:this.week,month:this.month,calendars:this.calendars,useCreationPopup:this.useCreationPopup,useDetailPopup:this.useDetailPopup,timezones:this.timezones,disableDblClick:this.disableDblClick,isReadOnly:this.isReadOnly}),this.addEventListeners(),this.reflectSchedules()},destroyed:function(){var e=this;F.forEach(function(t){return e.calendarInstance.off(t)}),this.calendarInstance.destroy()},methods:{addEventListeners:function(){var e=this;F.forEach(function(t){e.calendarInstance.on(t,function(){for(var a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];return e.$emit.apply(e,[t].concat(n))})})},reflectSchedules:function(){this.schedules.length>0&&this.invoke("createSchedules",this.schedules)},getRootElement:function(){return this.$refs.tuiCalendar},invoke:function(e){var t=void 0;if(this.calendarInstance[e]){for(var a,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t=(a=this.calendarInstance)[e].apply(a,A()(r))}return t}}},q={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"tuiCalendar"})},staticRenderFns:[]},z={name:"Planning",components:{calendar:a("VU/8")(T,q,!1,null,null,null).exports},mounted:function(){var e=this,t=JSON.parse(localStorage.getItem("user")).id;console.log("post"),this.$http.post("http://localhost:3000/agendaPlanning",{userId:t}).then(function(t){localStorage.setItem("planning",f()(t.data.planning)),console.log(t.data.planning),t.data.planning.forEach(function(t){var a={id:t.id,calendarId:t.id,title:t.category,category:"time",dueDateClass:"",start:t.dateBegin,end:t.dateEnd};e.scheduleList.push(a)})})},data:function(){return{calendarList:[{id:"0",name:"home"},{id:"1",name:"office"}],scheduleList:[],view:"month",taskView:!1,scheduleView:["time"],theme:{"month.dayname.height":"30px","month.dayname.borderLeft":"1px solid #ff0000","month.dayname.textAlign":"center","week.today.color":"#333","week.daygridLeft.width":"100px","week.timegridLeft.width":"100px"},week:{narrowWeekend:!0,showTimezoneCollapseButton:!0,timezonesCollapsed:!1},month:{visibleWeeksCount:4,startDayOfWeek:1},timezones:[{timezoneOffset:540,displayLabel:"GMT+09:00",tooltip:"Seoul"},{timezoneOffset:-420,displayLabel:"GMT-08:00",tooltip:"Los Angeles"}],disableDblClick:!0,isReadOnly:!0,template:{milestone:function(e){return'<span style="color:red;">'+e.title+"</span>"},milestoneTitle:function(){return"MILESTONE"}},useCreationPopup:!0,useDetailPopup:!1}},methods:{nextCalendar:function(){this.$refs.calendar.invoke("next")},backCalendar:function(){this.$refs.calendar.invoke("prev")},viewCalendarDay:function(){this.$refs.calendar.invoke("changeView","day","true")},viewCalendarWeek:function(){this.$refs.calendar.invoke("changeView","week","true")},viewCalendarMonth:function(){this.$refs.calendar.invoke("changeView","month","true")}}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-content"},[a("button",{on:{click:e.viewCalendarDay}},[e._v("ViewDay")]),e._v(" "),a("button",{on:{click:e.viewCalendarWeek}},[e._v("ViewWeek")]),e._v(" "),a("button",{on:{click:e.viewCalendarMonth}},[e._v("ViewMonth")]),e._v(" "),a("button",{on:{click:e.backCalendar}},[e._v("back")]),e._v(" "),a("button",{on:{click:e.nextCalendar}},[e._v("next")]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"tile"},[a("calendar",{ref:"calendar",staticStyle:{height:"800px"},attrs:{calendars:e.calendarList,schedules:e.scheduleList,view:e.view,taskView:e.taskView,scheduleView:e.scheduleView,theme:e.theme,week:e.week,month:e.month,timezones:e.timezones,disableDblClick:e.disableDblClick,isReadOnly:e.isReadOnly,template:e.template,useCreationPopup:e.useCreationPopup,useDetailPopup:e.useDetailPopup}})],1)])])])},staticRenderFns:[]};var J=a("VU/8")(z,H,!1,function(e){a("Egzj")},"data-v-678aabda",null).exports,W={name:"Contrat",data:function(){return{admin:"",user:"",tabUser:[],userId:"",dateBegin:"",dateEnd:"",category:"",reason:"",hours:""}},methods:{handleSubmit:function(){this.$http.post("http://localhost:3000/agenda_event",{userId:this.user,dateBegin:this.dateBegin,dateEnd:this.dateEnd,category:this.category,reason:this.reason})}},mounted:function(){var e=this;this.admin=JSON.parse(localStorage.getItem("user"));var t=this.admin.id;this.$http.post("https://gta-ynov-vue-server.herokuapp.com/supervision_user",{adminId:t}).then(function(t){console.log(t.data.user),t.data.user.forEach(function(t){e.tabUser.push(t)})})}},G={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"tile"},[a("form",[a("fieldset",[a("legend",[e._v("Contrat")]),e._v(" "),a("div",[a("label",[e._v(" User")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.user=t.target.multiple?a:a[0]}}},e._l(e.tabUser,function(t){return a("option",{domProps:{value:t.id}},[e._v(" "+e._s(t.name))])}))]),e._v(" "),a("div",[a("label",[e._v(" Date begin")]),e._v(" "),a("datetime",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateBegin,callback:function(t){e.dateBegin=t},expression:"dateBegin"}})],1),e._v(" "),a("div",[a("label",[e._v(" Date end")]),e._v(" "),a("datetime",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","min-datetime":e.dateBegin},model:{value:e.dateEnd,callback:function(t){e.dateEnd=t},expression:"dateEnd"}})],1),e._v(" "),a("div",[a("label",[e._v(" Nombre d'heure hebdomadaire ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.hours,expression:"hours",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.hours},on:{input:function(t){t.target.composing||(e.hours=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",[a("label",[e._v(" Categories ")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.category=t.target.multiple?a:a[0]}}},[a("option",[e._v("Mission")])])]),e._v(" "),a("div",[a("label",[e._v(" Motif de Mission ")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reason,expression:"reason"}],attrs:{placeholder:"Motif"},domProps:{value:e.reason},on:{input:function(t){t.target.composing||(e.reason=t.target.value)}}})]),e._v(" "),a("div",[a("label",[e._v(" Taux horraire Brut")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.price_hours,expression:"price_hours",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.price_hours},on:{input:function(t){t.target.composing||(e.price_hours=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",[a("button",{attrs:{type:"submit"},on:{click:e.handleSubmit}},[e._v("\n                                Register\n                            ")])])])])])]),e._v(" "),e._m(0)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"tile"},[a("div",[a("h1",[e._v(" Prévisualisation")]),e._v(" "),a("p",[e._v(" Nombre de jour de travail ")]),e._v(" "),a("p",[e._v(" Nombre d'heures de la misssion: ")]),e._v(" "),a("p",[e._v(" Nombre de congée total fin de mission: ")]),e._v(" "),a("p",[e._v(" Salaire Brut")])])])])}]};var Q=a("VU/8")(W,G,!1,function(e){a("x2Qj")},"data-v-baeae19e",null).exports,X={name:"ValidateEvent",data:function(){return{tabEvent:[]}},methods:{check:function(e,t,a){var n=this.tabEvent.indexOf(e);console.log(n),this.tabEvent.splice(n,1),console.log(t,a),this.$http.post("http://localhost:3000/adminVoteEvent",{idEvent:t,vote:a})}},mounted:function(){var e=this;this.admin=JSON.parse(localStorage.getItem("user"));var t=this.admin.id;this.$http.post("http://localhost:3000/adminEventSupervision",{adminId:t}).then(function(t){console.log(t.data.event),t.data.event.forEach(function(t){e.tabEvent.push(t)})})}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"col-6 offset-3"},e._l(e.tabEvent,function(t){return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n\n                "+e._s(t.length)+"\n                "+e._s(t.userId)+"\n            ")]),e._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[e._v("\n                        "+e._s(t.category)+"\n                    ")]),e._v(" "),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(t.reason)+"\n                    ")]),e._v(" "),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(t.dateBegin)+"\n                        "+e._s(t.dateEnd)+"\n                    ")])]),e._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){e.check(t,t.id,!1)}}},[e._v("Refuser\n                ")]),e._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(a){e.check(t,t.id,!0)}}},[e._v("Accepter\n                ")])])])}))])},staticRenderFns:[]};var Y=a("VU/8")(X,K,!1,function(e){a("Nn02")},"data-v-ff152e62",null).exports;n.a.use(p.a);var Z=new p.a({mode:"history",routes:[{path:"/",name:"login",component:b,meta:{guest:!0}},{path:"/register",name:"register",component:C,meta:{guest:!0}},{path:"/user",name:"user",component:E,meta:{requiresAuth:!0},children:[{path:"profile",name:"profile",component:D},{path:"agenda",name:"agenda",component:O},{path:"planning",name:"planning",component:J}]},{path:"/admin",name:"admin",component:S,children:[{path:"contrat",name:"contrat",component:Q,meta:{requiresAuth:!0,role:"D"}},{path:"validateEvent",name:"validateEvent",component:Y,meta:{requiresAuth:!0,role:"D"}}],meta:{requiresAuth:!0,role:"D"}}]});Z.beforeEach(function(e,t,a){if(e.matched.some(function(e){return e.meta.requiresAuth}))if(null==localStorage.getItem("jwt"))a({name:"login",params:{nextUrl:e.fullPath}});else{var n=JSON.parse(localStorage.getItem("user"));void 0!=e.meta.role?n.role===e.meta.role||"R"===n.role?a():a({name:"profile"}):a()}else e.matched.some(function(e){return e.meta.guest})?null==localStorage.getItem("jwt")?a():a({name:"profile"}):a()});var ee=Z,te=a("mtWM"),ae=a.n(te),ne=a("e6fC");a("Jmt5"),a("9M+g"),a("suTU"),a("BUeH");n.a.prototype.$http=ae.a,n.a.config.productionTip=!1,n.a.use(ne.a),n.a.use(l.a),n.a.use(d.a),new n.a({el:"#app",router:ee,components:{App:m,NavBar:i},template:"<App/>"})},Nn02:function(e,t){},R8Ff:function(e,t){},bUhB:function(e,t){},hs1y:function(e,t){},smXI:function(e,t){},suTU:function(e,t){},syJM:function(e,t){},vydX:function(e,t){},x2Qj:function(e,t){},yfRP:function(e,t){},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c5c241520f809598dd0e.js.map