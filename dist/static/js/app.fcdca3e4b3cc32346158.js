webpackJsonp([1],{"1/oy":function(e,t){},"71mn":function(e,t){},"8AIS":function(e,t){},"9M+g":function(e,t){},BUeH:function(e,t){},FfjS:function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},Jw1b:function(e,t){},MH3R:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),s={name:"navBar",data:function(){return{user:"",name:"",role:""}},methods:{disconnect:function(){localStorage.removeItem("jwt"),this.$router.push("/")}},mounted:function(){this.user=JSON.parse(localStorage.getItem("user")),this.name=this.user.name,this.role=this.user.role}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-navbar",{attrs:{toggleable:"md",type:"light",variant:"light"}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),e._v(" "),a("b-navbar-brand",{attrs:{href:"#"}},[e._v(e._s(e.name))]),e._v(" "),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",[a("b-nav-item",[a("router-link",{attrs:{to:"/user/profile"}},[e._v("Profile")])],1),e._v(" "),a("b-nav-item",[a("router-link",{attrs:{to:"/user/agenda"}},[e._v("Demande de jour")])],1),e._v(" "),a("b-nav-item",[a("router-link",{attrs:{to:"/user/planning"}},[e._v("Planning")])],1),e._v(" "),"R"==e.role?a("b-nav-item",[a("router-link",{attrs:{to:"/admin/contrat"}},[e._v("Contrat")])],1):e._e(),e._v(" "),"R"==e.role?a("b-nav-item",[a("router-link",{attrs:{to:"/admin/validateEvent"}},[e._v("Valider évènement")])],1):e._e()],1),e._v(" "),a("b-navbar-nav",{staticClass:"ml-auto"},[a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:e.disconnect}},[e._v("Déconnecter")])])],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(s,r,!1,function(e){a("fplR")},null,null).exports,o=a("QEVx"),l=a.n(o),c=a("S4WF"),u=a.n(c),d=a("PJh5"),v=a.n(d),m={components:{NavBar:i,moment:v.a,Datetime:o.Datetime,VueTuicalendar:c.VueTuicalendar},name:"App"},h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{style:{backgroundColor:"#42b983"},attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var p=a("VU/8")(m,h,!1,function(e){a("Jw1b")},null,null).exports,f=a("/ocq"),g=a("mvHQ"),_=a.n(g),b={data:function(){return{username:"",password:"",showDismissibleAlert:!1}},methods:{FormLogin:function(e){var t=this;e.preventDefault(),this.password.length>0&&this.$http.post("https://gta-ynov-vue-server.herokuapp.com/login",{email:this.username,password:this.password}).then(function(e){var a=e.data.user.role;if(localStorage.setItem("user",_()(e.data.user)),localStorage.setItem("jwt",e.data.token),null!=localStorage.getItem("jwt"))if(t.$emit("loggedIn"),null!=t.$route.params.nextUrl)t.$router.push(t.$route.params.nextUrl);else switch(a){case"D":case"R":console.log("admin"),t.$router.push("admin");break;case"S":console.log("user"),t.$router.push("user")}}).catch(function(e){console.error(e.response)})}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-3 mx-auto",attrs:{id:"login"}},[a("div",{staticClass:"card card-signin my-5"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title text-center"},[e._v("Login")]),e._v(" "),a("form",{staticClass:"form-signin",on:{submit:function(t){return t.preventDefault(),e.FormLogin(t)}}},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{required:"",id:"inputEmail",type:"text",placeholder:"email"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{required:"",id:"inputPassword",type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("button",{staticClass:"btn btn-lg btn-primary btn-block text-uppercase",attrs:{type:"submit"}},[e._v("Login")])])])])])},staticRenderFns:[]};var w=a("VU/8")(b,y,!1,function(e){a("ZwuW")},"data-v-4a8d5b4e",null).exports,j={props:["nextUrl"],data:function(){return{name:"",email:"",password:"",password_confirmation:"",rules:""}},methods:{handleSubmit:function(e){var t=this;if(e.preventDefault(),!(this.password===this.password_confirmation&&this.password.length>0))return this.password="",this.passwordConfirm="",alert("Passwords do not match");this.$http.post("https://gta-ynov-vue-server.herokuapp.com/register",{name:this.name,email:this.email,password:this.password,role:this.rules}).then(function(e){localStorage.setItem("user",_()(e.data.user)),localStorage.setItem("jwt",e.data.token),null!=localStorage.getItem("jwt")&&(t.$emit("loggedIn"),null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):t.$router.push("/"))}).catch(function(e){console.error(e)})}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h4",[e._v("Register")]),e._v(" "),a("form",[a("label",{attrs:{for:"name"}},[e._v("Name")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{id:"name",type:"text",required:"",autofocus:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),a("label",{attrs:{for:"email"}},[e._v("E-Mail Address")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("label",{attrs:{for:"password"}},[e._v("Password")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",type:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("label",{attrs:{for:"password-confirm"}},[e._v("Confirm Password")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirmation,expression:"password_confirmation"}],attrs:{id:"password-confirm",type:"password",required:""},domProps:{value:e.password_confirmation},on:{input:function(t){t.target.composing||(e.password_confirmation=t.target.value)}}})]),e._v(" "),a("label",{attrs:{for:"password-confirm"}},[e._v("Roles")]),e._v(" "),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.roles,expression:"roles"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.roles=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"S"}},[e._v("Salarié")]),e._v(" "),a("option",{attrs:{value:"R"}},[e._v("Responsable")]),e._v(" "),a("option",{attrs:{value:"D"}},[e._v("DRH")])])]),e._v(" "),a("div",[a("button",{attrs:{type:"submit"},on:{click:e.handleSubmit}},[e._v("\n                Register\n            ")])])])])},staticRenderFns:[]},k=a("VU/8")(j,C,!1,null,null,null).exports,x={components:{NavBar:i},data:function(){return{msg:"Page salarié"}}},E={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("nav-bar"),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var P=a("VU/8")(x,E,!1,function(e){a("hs1y")},"data-v-f5905e1e",null).exports,S={data:function(){return{msg:"page directeur"}},components:{NavBar:i}},I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("nav-bar"),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var N=a("VU/8")(S,I,!1,function(e){a("xW+d")},"data-v-65875be5",null).exports,R={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("404 Error")]),this._v(" "),t("p",[this._v("The resource could not be found.")]),this._v(" "),t("router-link",{attrs:{to:"/",exact:""}},[this._v("\n        Go to home page\n    ")])],1)},staticRenderFns:[]};a("VU/8")({name:"PageNotFound"},R,!1,function(e){a("vydX")},"data-v-441efff6",null).exports;var D={name:"Profile",mounted:function(){var e=this;this.user=JSON.parse(localStorage.getItem("user")),this.recoverProfil(),this.$http.post("https://gta-ynov-vue-server.herokuapp.com/profile_contrat",{userId:this.user.id}).then(function(t){e.Usercontrat=t.data.contrat})},data:function(){return{userProfile:"",name:"",surname:"",birth:"",phone:"",address:"",Usercontrat:"",daysWorked:"",daysRemaining:"",daysHoliday:""}},methods:{recoverProfil:function(){var e=this,t=this.user.id;this.$http.post("https://gta-ynov-vue-server.herokuapp.com/profile",{userId:t}).then(function(t){localStorage.setItem("profile",_()(t.data.userProfile)),console.log(t.data.userProfile),e.name=t.data.userProfile.name,e.surname=t.data.userProfile.surname,e.birth=t.data.userProfile.birth,e.phone=t.data.userProfile.tel,e.address=t.data.userProfile.address})}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"tile"},[a("form",[a("h3",{staticClass:"line-head"},[e._v("Information personnel")]),e._v(" "),a("div",[a("label",{staticClass:"label"},[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name",id:"name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),a("div",[a("label",{staticClass:"label"},[e._v("Surname")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.surname,expression:"surname"}],attrs:{type:"text",name:"surname",id:"surname",required:""},domProps:{value:e.surname},on:{input:function(t){t.target.composing||(e.surname=t.target.value)}}})]),e._v(" "),a("div",[a("label",{staticClass:"label"},[e._v("Birth")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.birth,expression:"birth"}],attrs:{type:"text",name:"birth",id:"birth",required:""},domProps:{value:e.birth},on:{input:function(t){t.target.composing||(e.birth=t.target.value)}}})]),e._v(" "),a("div",[a("label",{staticClass:"label"},[e._v("Phone")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"integer",name:"phone",id:"phone",required:""},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),a("div",[a("label",{staticClass:"label"},[e._v("Address")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{type:"text",name:"address",id:"address",required:""},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})]),e._v(" "),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){}}},[e._v("Save")])])])]),e._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"tile"},[a("h3",{staticClass:"line-head"},[e._v("Contrat")]),e._v(" "),a("div",{staticClass:"card"},[e._v("\n                    "+e._s(e.Usercontrat)+"\n                ")])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg"},[a("div",{staticClass:"tile"},[a("h1",[e._v(" Nombre de jour travailler:"+e._s(e.daysWorked)+" ")])])]),e._v(" "),a("div",{staticClass:"col-lg"},[a("div",{staticClass:"tile"},[a("h1",[e._v(" Nombre de jour restant:"+e._s(e.daysRemaining))])])]),e._v(" "),a("div",{staticClass:"col-lg"},[a("div",{staticClass:"tile"},[a("h1",[e._v(" Nombre de jour congée:"+e._s(e.daysHoliday)+" ")])])])])])},staticRenderFns:[]};var z=a("VU/8")(D,V,!1,function(e){a("8AIS")},"data-v-9aecf6b2",null).exports,O={name:"Agenda",data:function(){return{user:"",userId:"",dateBegin:"",dateEnd:"",category:"",reason:"",tabEvent:[]}},methods:{recoverEvent:function(){var e=this;console.log("reccuperer"),this.tabEvent=[];var t=this.user.id;this.$http.post("https://gta-ynov-vue-server.herokuapp.com/agendaPlanning",{userId:t,verify:"0"}).then(function(t){console.log(t),t.data.event.forEach(function(t){e.tabEvent.push(t)})})},resetForm:function(){this.dateBegin="",this.dateEnd="",this.category="",this.reason=""},handleSubmit:function(){var e=this;this.$http.post("https://gta-ynov-vue-server.herokuapp.com/agenda_event",{userId:this.user.id,dateBegin:this.dateBegin,dateEnd:this.dateEnd,category:this.category,reason:this.reason}).then(function(t){e.resetForm(),e.recoverEvent()},function(e){console.log(e)})}},mounted:function(){this.user=JSON.parse(localStorage.getItem("user")),this.recoverEvent()}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"tile"},[a("h3",{staticClass:"line-head"},[e._v(" Demande de jour")]),e._v(" "),a("label",[e._v(" Date begin")]),e._v(" "),a("datetime",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateBegin,callback:function(t){e.dateBegin=t},expression:"dateBegin"}}),e._v(" "),a("label",[e._v(" Date end")]),e._v(" "),a("datetime",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","min-datetime":e.dateBegin},model:{value:e.dateEnd,callback:function(t){e.dateEnd=t},expression:"dateEnd"}}),e._v(" "),a("label",[e._v(" Categories ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.category=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("select category")]),e._v(" "),a("option",[e._v("Congée")]),e._v(" "),a("option",[e._v("Reccuperation")]),e._v(" "),a("option",[e._v("Amenagement")])]),e._v(" "),a("br"),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reason,expression:"reason"}],attrs:{placeholder:"Motif"},domProps:{value:e.reason},on:{input:function(t){t.target.composing||(e.reason=t.target.value)}}}),e._v(" "),a("button",{attrs:{type:"submit"},on:{click:e.handleSubmit}},[e._v("\n                    Register\n                ")])],1)]),e._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"tile"},[a("h3",{staticClass:"line-head"},[e._v(" Demande en cours de traitement")]),e._v(" "),e._l(e.tabEvent,function(t){return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n\n                        "+e._s(t.length)+"\n                        "+e._s(t.userId)+"\n                    ")]),e._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[e._v("\n                                "+e._s(t.category)+"\n                            ")]),e._v(" "),a("div",{staticClass:"col"},[e._v("\n                                "+e._s(t.reason)+"\n                            ")]),e._v(" "),a("div",{staticClass:"col"},[e._v("\n                                "+e._s(t.dateBegin)+"\n                                "+e._s(t.dateEnd)+"\n                            ")])])])])})],2)])])])},staticRenderFns:[]};var B=a("VU/8")(O,U,!1,function(e){a("FfjS")},"data-v-41ddf531",null).exports,$=(a("bUhB"),a("Gu7T")),F=a.n($),M=a("jBlO"),q=a.n(M),A=["afterRenderSchedule","beforeCreateSchedule","beforeDeleteSchedule","beforeUpdateSchedule","clickDayname","clickSchedule","clickTimezonesCollapseBtn"],L=["start","category"],H={name:"ToastUICalendar",props:{calendars:{type:Array,default:function(){return[]}},schedules:{type:Array,default:function(){return[]},validator:function(e){var t=!1;return e.forEach(function(e){t=L.some(function(t){return!e.hasOwnProperty(t)})}),!t}},view:{type:String,default:function(){return"week"}},taskView:{type:[Boolean,Array],default:function(){return!0}},scheduleView:{type:[Boolean,Array],default:function(){return!0}},theme:{type:Object,default:function(){return{}}},template:{type:Object,default:function(){return{}}},week:{type:Object,default:function(){return{}}},month:{type:Object,default:function(){return{}}},useCreationPopup:{type:Boolean,default:function(){return!0}},useDetailPopup:{type:Boolean,default:function(){return!0}},timezones:{type:Array,default:function(){return[]}},disableDblClick:{type:Boolean,default:function(){return!1}},isReadOnly:{type:Boolean,default:function(){return!1}}},watch:{calendars:function(e){this.calendarInstance.setCalendars(e)},schedules:function(){this.calendarInstance.clear(),this.reflectSchedules()},view:function(e){this.calendarInstance.changeView(e,!0)},taskView:function(e){this.calendarInstance.setOptions({taskView:e})},scheduleView:function(e){this.calendarInstance.setOptions({scheduleView:e})},theme:{handler:function(e){this.calendarInstance.setTheme(e)},deep:!0},week:{handler:function(e){var t="week"!==this.view&&"day"!==this.view;this.calendarInstance.setOptions({week:e},t)},deep:!0},month:{handler:function(e){var t="month"!==this.view;this.calendarInstance.setOptions({month:e},t)},deep:!0},timezones:function(e){this.calendarInstance.setOptions({timezones:e})},disableDblClick:function(e){this.calendarInstance.setOptions({disableDblClick:e})},isReadOnly:function(e){this.calendarInstance.setOptions({isReadOnly:e})}},data:function(){return{calendarInstance:null}},mounted:function(){this.calendarInstance=new q.a(this.$refs.tuiCalendar,{defaultView:this.view,taskView:this.taskView,scheduleView:this.scheduleView,theme:this.theme,template:this.template,week:this.week,month:this.month,calendars:this.calendars,useCreationPopup:this.useCreationPopup,useDetailPopup:this.useDetailPopup,timezones:this.timezones,disableDblClick:this.disableDblClick,isReadOnly:this.isReadOnly}),this.addEventListeners(),this.reflectSchedules()},destroyed:function(){var e=this;A.forEach(function(t){return e.calendarInstance.off(t)}),this.calendarInstance.destroy()},methods:{addEventListeners:function(){var e=this;A.forEach(function(t){e.calendarInstance.on(t,function(){for(var a=arguments.length,n=Array(a),s=0;s<a;s++)n[s]=arguments[s];return e.$emit.apply(e,[t].concat(n))})})},reflectSchedules:function(){this.schedules.length>0&&this.invoke("createSchedules",this.schedules)},getRootElement:function(){return this.$refs.tuiCalendar},invoke:function(e){var t=void 0;if(this.calendarInstance[e]){for(var a,n=arguments.length,s=Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];t=(a=this.calendarInstance)[e].apply(a,F()(s))}return t}}},W={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"tuiCalendar"})},staticRenderFns:[]},T={name:"Planning",components:{calendar:a("VU/8")(H,W,!1,null,null,null).exports},mounted:function(){var e=this,t=JSON.parse(localStorage.getItem("user")).id;console.log("post"),this.$http.post("https://gta-ynov-vue-server.herokuapp.com/agendaPlanning",{userId:t,verify:"1"}).then(function(t){localStorage.setItem("planning",_()(t.data.event)),console.log(t.data.event),t.data.event.forEach(function(t){var a={id:t.id,calendarId:t.id,title:t.category,category:"time",dueDateClass:"",start:t.dateBegin,end:t.dateEnd};e.scheduleList.push(a)})}),this.nameMonth=this.$refs.calendar.invoke("getDateRangeStart").toUTCString()},data:function(){return{nameMonth:"",calendarList:[{id:"0",name:"home"},{id:"1",name:"office"}],scheduleList:[],view:"month",taskView:!1,scheduleView:["time"],theme:{"month.dayname.height":"30px","month.dayname.borderLeft":"1px solid #ff0000","month.dayname.textAlign":"center","week.today.color":"#333","week.daygridLeft.width":"100px","week.timegridLeft.width":"100px"},week:{narrowWeekend:!0,showTimezoneCollapseButton:!0,timezonesCollapsed:!1},month:{visibleWeeksCount:4,startDayOfWeek:1},timezones:[{timezoneOffset:540,displayLabel:"GMT+09:00",tooltip:"Seoul"},{timezoneOffset:-420,displayLabel:"GMT-08:00",tooltip:"Los Angeles"}],disableDblClick:!0,isReadOnly:!0,template:{milestone:function(e){return'<span style="color:red;">'+e.title+"</span>"},milestoneTitle:function(){return"MILESTONE"}},useCreationPopup:!0,useDetailPopup:!1}},methods:{nextCalendar:function(){this.$refs.calendar.invoke("next"),this.nameMonth=this.$refs.calendar.invoke("getDateRangeStart").toUTCString()},backCalendar:function(){this.$refs.calendar.invoke("prev"),this.nameMonth=this.$refs.calendar.invoke("getDateRangeStart").toUTCString()},viewCalendarDay:function(){this.$refs.calendar.invoke("changeView","day","true")},viewCalendarWeek:function(){this.$refs.calendar.invoke("changeView","week","true")},viewCalendarMonth:function(){this.$refs.calendar.invoke("changeView","month","true")}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-content"},[e._v("\n    "+e._s(e.nameMonth)+"\n    "),a("button",{on:{click:e.viewCalendarDay}},[e._v("ViewDay")]),e._v(" "),a("button",{on:{click:e.viewCalendarWeek}},[e._v("ViewWeek")]),e._v(" "),a("button",{on:{click:e.viewCalendarMonth}},[e._v("ViewMonth")]),e._v(" "),a("button",{on:{click:e.backCalendar}},[e._v("back")]),e._v(" "),a("button",{on:{click:e.nextCalendar}},[e._v("next")]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"tile"},[a("calendar",{ref:"calendar",staticStyle:{height:"800px"},attrs:{calendars:e.calendarList,schedules:e.scheduleList,view:e.view,taskView:e.taskView,scheduleView:e.scheduleView,theme:e.theme,week:e.week,month:e.month,timezones:e.timezones,disableDblClick:e.disableDblClick,isReadOnly:e.isReadOnly,template:e.template,useCreationPopup:e.useCreationPopup,useDetailPopup:e.useDetailPopup}})],1)])])])},staticRenderFns:[]};var X=a("VU/8")(T,J,!1,function(e){a("71mn")},"data-v-0120f234",null).exports,G={name:"Contrat",data:function(){return{admin:"",user:"",tabUser:[],tabContrat:[],userId:"",dateBegin:"",dateEnd:"",week:"",category:"",reason:"",hours:"",nbDay:"",nbDayAllWeek:"",priceHours:"",hourMission:"",holiday:""}},methods:{visu:function(){this.nbDay=5*this.week,this.nbDayAllWeek=7*this.week,this.hourMission=this.week*this.hours,this.holiday=this.nbDay/9.6,this.dateEnd=v()(this.dateBegin).add(this.nbDayAllWeek,"day").format("LLL")},handleSubmit:function(){var e=this;this.$http.post("https://gta-ynov-vue-server.herokuapp.com/insertContrat",{userId:this.user,dateBegin:this.dateBegin,dateEnd:this.dateEnd,numberWeek:this.numberWeek,hoursWeekly:this.hours,category:this.category,reason:this.reason}).then(function(t){e.refreshForm(),e.recoverContrat()})},checkProfile:function(){var e=this;console.log("test"),this.$http.post("https://gta-ynov-vue-server.herokuapp.com/supervision_user",{adminId:this.admin.id}).then(function(t){console.log(t.data.user),t.data.user.forEach(function(t){e.tabUser.push(t)})})},refreshForm:function(){this.dateBegin="",this.dateEnd="",this.numberWeek="",this.hours="",this.category="",this.reason=""},recoverContrat:function(){var e=this;console.log("reccuperer"),this.tabContrat=[],this.$http.post("https://gta-ynov-vue-server.herokuapp.com/admin_contrat",{adminId:this.admin.id}).then(function(t){console.log(t),t.data.contrat.forEach(function(t){e.tabContrat.push(t)})})}},mounted:function(){this.admin=JSON.parse(localStorage.getItem("user")),this.checkProfile(),this.recoverContrat()}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"tile"},[a("h3",{staticClass:"line-head"},[e._v("Contrat")]),e._v(" "),a("div",[a("label",[e._v(" User")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.user=t.target.multiple?a:a[0]}}},e._l(e.tabUser,function(t){return a("option",{domProps:{value:t.id}},[e._v(" "+e._s(t.name))])}))]),e._v(" "),a("div",[a("label",[e._v(" Date begin")]),e._v(" "),a("datetime",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},on:{change:function(t){e.visu()}},model:{value:e.dateBegin,callback:function(t){e.dateBegin=t},expression:"dateBegin"}})],1),e._v(" "),a("div",[a("label",[e._v(" Nombre de semaine ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.week,expression:"week",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.week},on:{change:function(t){e.visu()},input:function(t){t.target.composing||(e.week=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",[a("label",[e._v(" Nombre d'heure hebdomadaire ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.hours,expression:"hours",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.hours},on:{change:function(t){e.visu()},input:function(t){t.target.composing||(e.hours=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",[a("label",[e._v(" Categories ")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.category=t.target.multiple?a:a[0]}}},[a("option",[e._v("Mission")])])]),e._v(" "),a("div",[a("label",[e._v(" Motif de Mission ")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reason,expression:"reason"}],attrs:{placeholder:"Motif"},domProps:{value:e.reason},on:{input:function(t){t.target.composing||(e.reason=t.target.value)}}})]),e._v(" "),a("div",[a("button",{attrs:{type:"submit"},on:{click:e.handleSubmit}},[e._v("\n                                Register\n                            ")])])])]),e._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"tile"},[a("div",[a("h3",{staticClass:"line-head"},[e._v(" Prévisualisation")]),e._v(" "),a("p",[e._v(" Nombre de jour de travail:  "+e._s(e.nbDay)+" ")]),e._v(" "),a("p",[e._v(" Nombre d'heures de la misssion:"+e._s(e.hourMission)+" ")]),e._v(" "),a("p",[e._v(" Nombre de congée total fin de mission:"+e._s(e.holiday)+" ")]),e._v(" "),a("p",[e._v(" Fin de la mission "+e._s(e.dateEnd))])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"tile"},[a("h3",{staticClass:"line-head"},[e._v(" Contrat en attente")]),e._v(" "),e._l(e.tabContrat,function(t){return a("div",{staticClass:"card"},[e._v("\n                    "+e._s(t)+"\n                ")])})],2)]),e._v(" "),e._m(0)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"tile"},[t("h3",{staticClass:"line-head"},[this._v(" Contrat en cours")])])])}]};var K=a("VU/8")(G,Q,!1,function(e){a("MH3R")},"data-v-00e2bd94",null).exports,Z={name:"ValidateEvent",data:function(){return{tabEvent:[]}},methods:{check:function(e,t,a){var n=this.tabEvent.indexOf(e);console.log(n),this.tabEvent.splice(n,1),console.log(t,a),this.$http.post("https://gta-ynov-vue-server.herokuapp.com/adminVoteEvent",{idEvent:t,vote:a})}},mounted:function(){var e=this;this.admin=JSON.parse(localStorage.getItem("user"));var t=this.admin.id;this.$http.post("https://gta-ynov-vue-server.herokuapp.com/adminEventSupervision",{adminId:t}).then(function(t){console.log(t.data.event),t.data.event.forEach(function(t){e.tabEvent.push(t)})})}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"col-6 offset-3"},e._l(e.tabEvent,function(t){return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n\n                "+e._s(t.length)+"\n                "+e._s(t.userId)+"\n            ")]),e._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[e._v("\n                        "+e._s(t.category)+"\n                    ")]),e._v(" "),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(t.reason)+"\n                    ")]),e._v(" "),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(t.dateBegin)+"\n                        "+e._s(t.dateEnd)+"\n                    ")])]),e._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){e.check(t,t.id,!1)}}},[e._v("Refuser\n                ")]),e._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(a){e.check(t,t.id,!0)}}},[e._v("Accepter\n                ")])])])}))])},staticRenderFns:[]};var ee=a("VU/8")(Z,Y,!1,function(e){a("jt3L")},"data-v-1d21348e",null).exports;n.a.use(f.a);var te=new f.a({mode:"history",routes:[{path:"/",name:"login",component:w,meta:{guest:!0}},{path:"/register",name:"register",component:k,meta:{guest:!0}},{path:"/user",name:"user",component:P,meta:{requiresAuth:!0},children:[{path:"profile",name:"profile",component:z},{path:"agenda",name:"agenda",component:B},{path:"planning",name:"planning",component:X}]},{path:"/admin",name:"admin",component:N,children:[{path:"contrat",name:"contrat",component:K,meta:{requiresAuth:!0,role:"D"}},{path:"validateEvent",name:"validateEvent",component:ee,meta:{requiresAuth:!0,role:"D"}}],meta:{requiresAuth:!0,role:"D"}}]});te.beforeEach(function(e,t,a){if(e.matched.some(function(e){return e.meta.requiresAuth}))if(null==localStorage.getItem("jwt"))a({name:"login",params:{nextUrl:e.fullPath}});else{var n=JSON.parse(localStorage.getItem("user"));void 0!=e.meta.role?n.role===e.meta.role||"R"===n.role?a():a({name:"profile"}):a()}else e.matched.some(function(e){return e.meta.guest})?null==localStorage.getItem("jwt")?a():a({name:"profile"}):a()});var ae=te,ne=a("mtWM"),se=a.n(ne),re=a("e6fC");a("Jmt5"),a("9M+g"),a("suTU"),a("BUeH");n.a.prototype.$http=se.a,n.a.config.productionTip=!1,n.a.use(re.a),n.a.use(l.a),n.a.use(u.a),n.a.use(v.a),new n.a({el:"#app",router:ae,components:{App:p,NavBar:i,moment:v.a},template:"<App/>"})},ZwuW:function(e,t){},bUhB:function(e,t){},fplR:function(e,t){},hs1y:function(e,t){},jt3L:function(e,t){},suTU:function(e,t){},uslO:function(e,t,a){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function s(e){return a(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="uslO"},vydX:function(e,t){},"xW+d":function(e,t){},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.fcdca3e4b3cc32346158.js.map